\definecolor{shc}{RGB}{238,224,229}
\begin{tikzpicture}
\node[obnode] (x) at (-4,1) {\LARGE $S$};
\node[detnode] (Q) at ($(x)+(4,2)$) {\Large $Q$};
\node[constnode] (rate) at ($(x)+(-3,0)$) {\Large $0.01$};
\node[snode] (psi) at ($(x)+(-2,2)$) {\Large $\Psi$};
\node[snode] (pi) at ($(Q)+(-0.75,1.5)$) {\large $pi$};
\node[snode] (er) at ($(Q)+(0.75,1.5)$) {\large $er$};
\node[constnode] (pi_prior) at ($(pi)+(0,1.5)$) {\large $\alpha_2$};
\node[constnode] (er_prior) at ($(er)+(0,1.5)$) {\large $\alpha_1$};
\node[constnode] (spec) at ($(psi)+(0,1.5)$) {\large $2$};
\node[constnode] (ext) at ($(psi)+(1.5,1.5)$) {\large $1$};
\node[snode] (root) at ($(psi)+(-1.5,1.5)$) {\large $root$};
\node[constnode] (a) at ($(root)+(-0.75,1.5)$) {\large $0$};
\node[constnode] (b) at ($(root)+(0.75,1.5)$) {\large $1000$};
\node[detnode] (gamma) at ($(x)+(1,2)$) {\large $\gamma$};
\node[snode] (alpha) at ($(gamma)+(0,1.5)$) {\large $\alpha$};
\node[constnode] (alpha_prior) at ($(alpha)+(0,1.5)$) {\large $0.05$};
\draw [dtaro] (alpha_prior) -- (alpha) ;
\draw [dtaro] (alpha) -- (gamma) ;
\draw [taro] (gamma) -- (x) ;
\draw [dtaro] (er) -- (Q) ;
\draw [dtaro] (pi) -- (Q) ;
\draw [taro] (Q) -- (x) ;
\draw [taro] (psi) -- (x) ;
\draw [taro] (rate) -- (x) ;
\draw [taro] (pi_prior) -- (pi) ;
\draw [taro] (er_prior) -- (er) ;
\draw [taro] (spec) -- (psi) ;
\draw [taro] (ext) -- (psi) ;
\draw [taro] (root) -- (psi) ;
\draw [taro] (a) -- (root) ;
\draw [taro] (b) -- (root) ;
\node (a1) at (4,0.25) { };
\node (a2) at (4,6.5) { };
\node (a3) at (18.0,2.75) { };
\node[rectangle, very thick, inner sep=6mm, fill=shc, fit = (a1) (a2) (a3)] (console) {};
\node (l1) at (4,6.0) [right]{\tt root $\sim$ dnUniform(0,1000.0)};
\node (l2) at (4,5.65) [right]{\tt psi $\sim$ dnBirthDeath(lambda=2.0, mu=1.0, };
\node (l3) at (7.5,5.3) [right]{\tt rootAge=root, taxon\_names)};
\node (l4) at (4,4.3) [right]{\tt alpha1 <- v(1,1,1,1,1,1) };
\node (l5) at (4,3.95) [right]{\tt alpha2 <- v(1,1,1,1) };
\node (l6) at (4,3.6) [right]{\tt er $\sim$ dnDirichlet( alpha1 ) };
\node (l7) at (4,3.25) [right]{\tt pi $\sim$ dnDirichlet( alpha2 ) };
\node (l8) at (4,2.9) [right]{\tt Q\_mol := fnGTR(er, pi) };
\node (l9) at (4,2.55) [right]{\tt alpha $\sim$ dnExponential(0.05) };
\node (l10) at (4,2.2) [right]{\tt gamma := fnDiscretizeGamma( rate=alpha, shape=alpha, numCats=4 )  };
\node (l11) at (4,1.3) [right]{\tt seq $\sim$ dnPhyloCTMC( tree=psi, Q=Q\_mol, siteRates=gamma,  };
\node (l12) at (7.5,0.95) [right]{\tt branchRates=0.01, type="DNA" )};
\node (l13) at (4,0.6) [right]{\tt seq.clamp( data ) };
\end{tikzpicture}